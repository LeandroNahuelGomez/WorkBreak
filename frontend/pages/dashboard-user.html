<!DOCTYPE html>
<html lang="es">

<head>
  <!-- Metadatos -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Título de la página -->
  <title>WorkBreak - Home</title>

  <!-- Estilos CSS -->
  <link rel="stylesheet" href="../styles/estilos.css" />

  <!-- Librería Axios para hacer peticiones HTTP -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <!-- Encabezado principal -->
  <header class="header">
    <!-- Logo -->
    <img src="../img/logo.png" alt="Logo Workbreak" class="logo" />
    <!-- Título -->
    <h1 class="titulo">WorkBreak</h1>
    <!-- Navegación derecha -->
    <nav class="nav-derecha">
      <a href="bienvenido.html" class="admin-btn">Ingresar como admin</a>
      <button id="toggle-dark" class="admin-btn">🌙 Modo oscuro</button>
      <a href="carrito.html" class="admin-btn carrito-btn">🛒</a>
    </nav>
  </header>

  <!-- Contenido principal -->
  <main class="main-content">

    <!-- Sección de filtros -->
    <section class="filters">
      <h3>Filtrar por:</h3>
      <div class="filter-row">
        <div class="filter-item active" data-filter="todos">Todos</div>
        <div class="filter-item" data-filter="alojamiento">Alojamiento</div>
        <div class="filter-item" data-filter="restaurantes">Restaurantes</div>
        <div class="filter-item" data-filter="autos">Autos</div>
        <div class="filter-item" data-filter="vuelos">Vuelos</div>
        <div class="filter-item" data-filter="paquetes">Paquetes</div>
      </div>
    </section>

    <!-- Sección donde se muestran los productos dinámicamente -->
    <section class="workspaces-grid" id="workspacesGrid">
      <!-- Aquí se insertan los productos -->
    </section>

    <!-- Sección para botón de agregar producto visible solo para admin -->
    <section id="admin-section" style="margin-top: 2rem; display:none;">
      <button id="btnAgregarProducto" class="btn btn-success">+ Agregar Producto</button>
    </section>

    <!-- Modal para agregar o modificar producto -->
    <div id="modalAgregar" 
         style="display:none; position: fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); 
                justify-content:center; align-items:center; z-index: 9999;">
      <div style="background:white; padding:1.5rem; border-radius:8px; width: 90%; max-width: 400px; position: relative;">
        <h2 id="modalTitulo">Agregar producto</h2>
        <form id="formAgregarProducto" novalidate>
          <!-- Campo oculto para ID en edición -->
          <input type="hidden" id="productoId" />

          <!-- Campo Nombre -->
          <label for="nombreProd">Nombre</label>
          <input id="nombreProd" type="text" required />

          <!-- Campo Descripción -->
          <label for="descripcionProd">Descripción</label>
          <textarea id="descripcionProd" required></textarea>

          <!-- Campo Precio -->
          <label for="precioProd">Precio</label>
          <input id="precioProd" type="number" min="0" step="0.01" required />

          <!-- Selector Categoría -->
          <label for="categoriaProd">Categoría</label>
          <select id="categoriaProd" required>
            <option value="">Seleccionar...</option>
            <option value="alojamiento">Alojamiento</option>
            <option value="restaurantes">Restaurantes</option>
            <option value="autos">Autos</option>
            <option value="vuelos">Vuelos</option>
            <option value="paquetes">Paquetes</option>
          </select>

          <!-- Botones Guardar y Cancelar -->
          <div style="margin-top: 1rem;">
            <button type="submit" class="btn btn-primary">Guardar</button>
            <button type="button" id="btnCancelarAgregar" class="btn btn-secondary">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

  </main>
  <script src="../js/api.js"></script>
  <!-- Script JS principal que controla la lógica-->
  <script type="module" src="../funciones.js"></script>
</body>

</html>