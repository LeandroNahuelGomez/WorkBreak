<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Workbreak</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
</head>

<body class="bg-light">

    <div class="container py-4">
        <!-- Header con logo y avatar -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3">Workbreak Dashboard Admin</h1>
            <div class="d-flex align-items-center">
                <span class="me-3" id="name-admin"></span>
                <div class="rounded-circle bg-primary text-white text-center"
                    style="width: 40px; height: 40px; line-height: 40px;" id="initials-name"></div>
            </div>
        </div>

        <!-- Tabs -->
        <ul class="nav nav-tabs mb-3" id="dashboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="inicio-tab" data-bs-toggle="tab" data-bs-target="#inicio"
                    type="button" role="tab">
                    <i class="bi bi-house-door me-1"></i> Dashboard
                </button>
            </li>

            <li class="nav-item" role="presentation">
                <button class="nav-link" id="empleados-tab" data-bs-toggle="tab" data-bs-target="#empleados"
                    type="button" role="tab">
                    <i class="bi bi-people me-1"></i> Empleados
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="productos-tab" data-bs-toggle="tab" data-bs-target="#productos"
                    type="button" role="tab">
                    <i class="bi bi-box-seam me-1"></i> Productos
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="auditorias-tab" data-bs-toggle="tab" data-bs-target="#auditorias"
                    type="button" role="tab">
                    <i class="bi bi-clipboard-check me-1"></i> Auditor√≠as
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="reservas-tab" data-bs-toggle="tab" data-bs-target="#reservas" type="button"
                    role="tab">
                    <i class="bi bi-calendar-check me-1"></i> Reservas
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tickets-tab" data-bs-toggle="tab" data-bs-target="#tickets" type="button"
                    role="tab">
                    <i class="bi bi-receipt-cutoff me-1"></i> Tickets
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="contactos-tab" data-bs-toggle="tab" data-bs-target="#contactos"
                    type="button" role="tab">
                    <i class="bi bi-envelope me-1"></i> Contactos
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="analiticas-tab" data-bs-toggle="tab" data-bs-target="#analiticas"
                    type="button" role="tab">
                    <i class="bi bi-bar-chart-line me-1"></i> Anal√≠ticas
                </button>
            </li>
        </ul>

        <!-- Contenido de pesta√±as -->
        <div class="tab-content" id="dashboardTabsContent">
            <section class="card shadow-sm mt-4 mb-3 rounded-3">
                <div class="card-body text-center">
                    <h3 class="card-title mb-0">Leandro Gomez</h3>
                    <h4 class="card-subtitle text-muted">Parcial Programacion III</h4>
                </div>
            </section>
            <!-- Inicio -->
            <div class="tab-pane fade show active" id="inicio" role="tabpanel">
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <div class="fs-1 text-warning">üë•</div>
                                <h5 class="card-title" id="count-empleados"></h5>
                                <p class="card-text">Empleados</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <div class="fs-1 text-primary">‚è∞</div>
                                <h5 class="card-title" id="count-productos"></h5>
                                <p class="card-text">Productos</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <div class="fs-1 text-success">‚¨áÔ∏è</div>
                                <h5 class="card-title" id="count-reservas"></h5>
                                <p class="card-text">Reservas</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <div class="fs-1 text-danger">üí¨</div>
                                <h5 class="card-title"></h5>
                                <p class="card-text">Rese√±as</p>
                            </div>
                        </div>
                    </div>
                </div>

                <h5 class="mt-4">Redes Sociales</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-header bg-primary text-white">Facebook</div>
                            <div class="card-body">
                                <p><strong>35k</strong> Friends</p>
                                <p><strong>128</strong> Feeds</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-header bg-info text-white">Twitter</div>
                            <div class="card-body">
                                <p><strong>584k</strong> Followers</p>
                                <p><strong>978</strong> Tweets</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-header bg-secondary text-white">LinkedIn</div>
                            <div class="card-body">
                                <p><strong>758+</strong> Contacts</p>
                                <p><strong>365</strong> Feeds</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resto de secciones -->
            <div class="tab-pane fade" id="empleados" role="tabpanel" aria-labelledby="empleados-tab">
                <section class="card mt-3">
                    <div class="card-header bg-success text-white">
                        <h3 class="mb-0"><i class="bi bi-list-ul me-2"></i>Listado de Empleados</h3>
                    </div>
                    <div class="card-body" id="divListadoEmpleados">
                        <!-- Contenedor din√°mico para la tabla de empleados -->
                        <div class="table-responsive">
                            <!-- Spinner de carga (se reemplaza por datos) -->
                            <div class="d-flex justify-content-center my-4">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Cargando...</span>
                                </div>
                            </div>

                            <!-- Ejemplo de tabla oculta hasta que se cargue -->
                            <table class="table table-hover d-none" id="tablaEmpleados">
                                <thead class="table-light">
                                    <tr>
                                        <th>ID</th>
                                        <th>Nombre</th>
                                        <th>Apellido</th>
                                        <th>Email</th>
                                        <th>Rol</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Aqu√≠ se insertan filas din√°micamente con JS -->
                                </tbody>
                            </table>
                            <div class="mb-3 text-end">
                                <button id="btnAgregarProducto" class="btn btn-success">
                                    <i class="bi bi-plus-circle me-1"></i> Agregar 
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Card para editar usuario (inicialmente oculta) -->
                <div id="cardEditarUsuario" class="card mt-4 d-none">
                    <div class="card-header bg-primary text-white">
                        Editar Usuario
                    </div>
                    <form id="formEditarUsuario">
                        <div class="card-body">
                            <!-- ‚úÖ CORREGIDO: ID √∫nico y atributo name -->
                            <input type="hidden" id="editar-id" name="editar-id">
                            <div class="mb-3">
                                <label for="editar-nombre" class="form-label">Nombre</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y atributo name -->
                                <input type="text" class="form-control" id="editar-nombre" name="editar-nombre"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-apellido" class="form-label">Apellido</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y atributo name -->
                                <input type="text" class="form-control" id="editar-apellido" name="editar-apellido"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-email" class="form-label">Email</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y atributo name -->
                                <input type="email" class="form-control" id="editar-email" name="editar-email" required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-rol" class="form-label">Rol</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y atributo name -->
                                <input type="text" class="form-control" id="editar-rol" name="editar-rol">
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <button type="submit" class="btn btn-success">Guardar cambios</button>
                            <button type="button" class="btn btn-secondary"
                                id="btnCancelarEdicionUsuario">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="tab-pane fade" id="productos" role="tabpanel" aria-labelledby="productos-tab">
                <section class="card mt-3">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0"><i class="bi bi-box-seam me-2"></i>Listado de Productos</h3>
                    </div>
                    <div class="card-body" id="divListadoProductos">
                        <div class="table-responsive">
                            <!-- Spinner de carga -->
                            <div class="d-flex justify-content-center my-4">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Cargando...</span>
                                </div>
                            </div>
                            <div id="confirmacionProducto" class="alert alert-warning d-none">
                                <p id="confirmacionMensaje"></p>
                                <button id="btnConfirmarAccion" class="btn btn-sm btn-warning">Confirmar</button>
                                <button id="btnCancelarAccion" class="btn btn-sm btn-secondary">Cancelar</button>
                            </div>


                            <!-- Tabla oculta (se muestra cuando se cargan los datos) -->
                            <table class="table table-hover d-none" id="tablaProductos">
                                <thead class="table-light">
                                    <tr>
                                        <th>ID</th>
                                        <th>Tipo Producto</th>
                                        <th>Titulo</th>
                                        <th>Descripcion</th>
                                        <th>Capacidad</th>
                                        <th>Normas</th>
                                        <th>Activo</th>
                                        <th>Creacion</th>
                                        <th>Precio x dia</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Filas generadas con JavaScript -->
                                </tbody>
                            </table>
                            <div class="mb-3 text-end">
                                <button id="btnAgregarProducto" class="btn btn-success">
                                    <i class="bi bi-plus-circle me-1"></i> Agregar producto
                                </button>
                            </div>

                        </div>
                    </div>
                </section>
                <!-- Card para editar producto (inicialmente oculta) -->
                <div id="cardEditarProducto" class="card mt-4 d-none">
                    <div class="card-header bg-primary text-white">
                        Editar Producto
                    </div>
                    <form id="formEditarProducto">
                        <div class="card-body">
                            <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                            <input type="hidden" id="editar-id" name="editar-id">
                            <div class="mb-3">
                                <label for="editar-tipo-producto" class="form-label">Tipo producto</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="editar-tipo-producto"
                                    name="editar-tipo-producto" required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-titulo" class="form-label">Titulo</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="editar-titulo" name="editar-titulo"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-descripcion" class="form-label">Descripcion</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="editar-descripcion"
                                    name="editar-descripcion" required>
                            </div>
                            <div class="mb-3">
                                <label for="editar-capacidad" class="form-label">Capacidad</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="number" class="form-control" id="editar-capacidad" name="editar-capacidad">
                            </div>
                            <div class="mb-3">
                                <label for="editar-normas" class="form-label">Normas</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="editar-normas" name="editar-normas">
                            </div>
                            <div class="mb-3">
                                <label for="editar-activo" class="form-label">Activo</label>
                                <!-- ‚úÖ CORREGIDO: Cambiar type="boolean" por select -->
                                <select class="form-control" id="editar-activo" name="editar-activo">
                                    <option value="true">Activo</option>
                                    <option value="false">Inactivo</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="editar-precio" class="form-label">Precio por dia</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y type="number" -->
                                <input type="number" step="0.01" class="form-control" id="editar-precio"
                                    name="editar-precio">
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <button type="submit" class="btn btn-success">Guardar cambios</button>
                            <button type="button" class="btn btn-secondary"
                                id="btnCancelarEdicionProducto">Cancelar</button>
                        </div>
                    </form>
                </div>
                <!-- Card para agregar producto (inicialmente oculta) -->
                <div id="cardAgregarProducto" class="card mt-4 d-none">
                    <div class="card-header bg-primary text-white">
                        Agregar Producto
                    </div>
                    <form id="formAgregarProducto">
                        <div class="card-body">
                            <input type="hidden" id="agregar-id" name="agregar-id">
                            <div class="mb-3">
                                <label for="agregar-tipo-producto" class="form-label">Tipo de producto</label>
                                <input type="number" class="form-select" id="agregar-tipo-producto"
                                    name="agregar-tipo-producto" required>
                            </div>

                            <div class="mb-3">
                                <label for="agregar-titulo" class="form-label">Titulo</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="agregar-titulo" name="agregar-titulo"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="agregar-descripcion" class="form-label">Descripcion</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="agregar-descripcion"
                                    name="agregar-descripcion" required>
                            </div>
                            <div class="mb-3">
                                <label for="agregar-capacidad" class="form-label">Capacidad</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="number" class="form-control" id="agregar-capacidad"
                                    name="agregar-capacidad">
                            </div>
                            <div class="mb-3">
                                <label for="agregar-normas" class="form-label">Normas</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico -->
                                <input type="text" class="form-control" id="agregar-normas" name="agregar-normas">
                            </div>
                            <div class="mb-3">
                                <label for="agregar-precio" class="form-label">Precio por dia</label>
                                <!-- ‚úÖ CORREGIDO: ID √∫nico y type="number" -->
                                <input type="number" step="0.01" class="form-control" id="agregar-precio"
                                    name="agregar-precio">
                            </div>
                        </div>
                        <div class="card-footer text-end">
                            <button type="submit" class="btn btn-success">Guardar</button>
                            <button type="button" class="btn btn-secondary"
                                id="btnCancelarAgregarProducto">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>



        <div class="tab-pane fade" id="auditorias" role="tabpanel">
            <div class="alert alert-info mt-3">Secci√≥n de auditor√≠as en construcci√≥n...</div>
        </div>
        <div class="tab-pane fade" id="reservas" role="tabpanel" aria-labelledby="reservas-tab">
            <section class="card mt-3">
                <div class="card-header bg-warning text-dark">
                    <h3 class="mb-0"><i class="bi bi-list-check me-2"></i>Listado de Reservas</h3>
                </div>
                <div class="card-body" id="divListadoReservas">
                    <!-- Contenedor din√°mico para la tabla de reservas -->
                    <div class="table-responsive">
                        <!-- Spinner de carga (se reemplaza por datos) -->
                        <div class="d-flex justify-content-center my-4">
                            <div class="spinner-border text-warning" role="status">
                                <span class="visually-hidden">Cargando...</span>
                            </div>
                        </div>

                        <!-- Tabla oculta hasta que se cargue -->
                        <table class="table table-hover d-none" id="tablaReservas">
                            <thead class="table-light">
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Fecha</th>
                                    <th>Hora</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Ac√° se insertan las reservas con JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>

        <div class="tab-pane fade" id="tickets" role="tabpanel">
            <div class="alert alert-info mt-3">Secci√≥n de tickets en construcci√≥n...</div>
        </div>
        <div class="tab-pane fade" id="contactos" role="tabpanel">
            <div class="alert alert-info mt-3">Secci√≥n de contactos en construcci√≥n...</div>
        </div>
        <div class="tab-pane fade" id="analiticas" role="tabpanel">
            <div class="alert alert-info mt-3">Secci√≥n de anal√≠ticas en construcci√≥n...</div>
        </div>
    </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/dashboard-admin.js"></script>
</body>

</html>